/* Centralized CSS Variables: minimalist, accessible palette */
:root {
  /* Colors */
  --color-bg: #0f1115;            /* near-black */
  --color-surface: #181b21;       /* dark panel */
  --color-surface-alt: #1f242b;   /* hover/focus */
  --color-accent: #4f8bff;        /* primary accent */
  --color-accent-hover: #3d74e0;
  --color-danger: #ff4d4f;
  --color-text: #f5f7fa;
  --color-text-dim: #b5bcc7;
  --color-border: #2a3038;
  --color-input-bg: #14171c;

  /* Typography */
  --font-family-base: system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,sans-serif;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.25rem;
  --line-height-base: 1.4;

  /* Spacing scale (4px baseline) */
  --space-1: 0.25rem; /*4*/
  --space-2: 0.5rem;  /*8*/
  --space-3: 0.75rem; /*12*/
  --space-4: 1rem;    /*16*/
  --space-5: 1.25rem; /*20*/
  --space-6: 1.5rem;  /*24*/
  --space-8: 2rem;    /*32*/

  /* Radii */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 16px;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0,0,0,.4);
  --shadow-md: 0 4px 12px -2px rgba(0,0,0,.5);

  /* Transitions */
  --transition-fast: 120ms ease;
  --transition-base: 200ms cubic-bezier(.4,.2,.2,1);

  /* Layout constraints */
  --max-width-xs: 420px;

  /* Chat specific (default = dark) */
  --msg-in-bg: #2a2d31;
  --msg-in-color: var(--color-text);
  --msg-out-bg: #000000;
  --msg-out-color: #ffffff;
  --msg-in-border: #32363b;
  --msg-out-border: #000000;
  --composer-bg: var(--color-surface-alt);
  --composer-border: var(--color-border);
}

@media (prefers-color-scheme: light) {
  :root {
    --color-bg: #f5f7fa;
    --color-surface: #ffffff;
    --color-surface-alt: #f0f3f7;
    --color-text: #1c232b;
    --color-text-dim: #5a6572;
    --color-border: #d8dee5;
    --color-input-bg: #fff;

    /* Light mode chat overrides */
    --msg-in-bg: #eef0f2;
    --msg-in-color: #1c232b;
    --msg-out-bg: #000000; /* black outbound bubble per design */
    --msg-out-color: #ffffff;
    --msg-in-border: #e2e6ea;
    --msg-out-border: #000000;
    --composer-bg: #f3f5f7;
    --composer-border: #d8dee5;
  }
}

/* Explicit theme classes override (allows manual toggle) */
.theme-light {
  --color-bg: #f5f7fa;
  --color-surface: #ffffff;
  --color-surface-alt: #f0f3f7;
  --color-text: #1c232b;
  --color-text-dim: #5a6572;
  --color-border: #d8dee5;
  --color-input-bg: #fff;
  --msg-in-bg: #eef0f2;
  --msg-in-color: #1c232b;
  --msg-out-bg: #000000;
  --msg-out-color: #ffffff;
  --msg-in-border: #e2e6ea;
  --msg-out-border: #000000;
  --composer-bg: #f3f5f7;
  --composer-border: #d8dee5;
}
.theme-dark {
  --color-bg: #0f1115;
  --color-surface: #181b21;
  --color-surface-alt: #1f242b;
  --color-text: #f5f7fa;
  --color-text-dim: #b5bcc7;
  --color-border: #2a3038;
  --color-input-bg: #14171c;
  --msg-in-bg: #2a2d31;
  --msg-in-color: #f5f7fa;
  --msg-out-bg: #000000;
  --msg-out-color: #ffffff;
  --msg-in-border: #32363b;
  --msg-out-border: #000000;
  --composer-bg: #1f242b;
  --composer-border: #2a3038;
}

/* Utility classes (optional minimal set) */
.visually-hidden { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; border:0; }
